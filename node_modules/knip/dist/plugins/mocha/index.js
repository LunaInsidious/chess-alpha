import { hasDependency } from '#p/util/plugin.js';
import { toEntryPattern } from '#p/util/protocols.js';
const title = 'Mocha';
const enablers = ['mocha'];
const isEnabled = ({ dependencies }) => hasDependency(dependencies, enablers);
const config = ['.mocharc.{js,cjs,json,jsonc,yml,yaml}', 'package.json'];
const entry = ['**/test/*.{js,cjs,mjs}'];
const resolveEntryPaths = localConfig => {
    const entryPatterns = localConfig.spec ? [localConfig.spec].flat() : [];
    return [...entryPatterns].map(toEntryPattern);
};
const resolveConfig = localConfig => {
    const require = localConfig.require ? [localConfig.require].flat() : [];
    return [...require].map(toEntryPattern);
};
export default {
    title,
    enablers,
    isEnabled,
    config,
    entry,
    resolveConfig,
    resolveEntryPaths,
};
